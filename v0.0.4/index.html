<!doctype html>
<html>
<head>

  <title>ArcsLib API Docs</title>

  <style>
    html, body {
      font-family: sans-serif;
    }
  </style>

  <link rel="import" href="components/context-free-parser.html">

</head>
<body>

  <context-free-parser></context-free-parser>

  <pre></pre>

  <script>
    let doc = document.querySelector('pre');
    let cfp = document.querySelector('context-free-parser');

    cfp.url = 'ArcsLib.js';
    cfp.addEventListener('data-ready', e => {
      renderDocs(e.detail);
      // expose raw data in console
      console.log(JSON.stringify(e.detail, null, '  '));
    });

    let renderDocs = docs => {
      let html = [];
      docs.classes && docs.classes.forEach(c => {
        html.push(`<div style="font-size:1.5em">Class: <b>${c.name}</b></div>`);
        html.push(`<br><div>${c.description}</div>`);
        c.methods && c.methods.forEach(m => {
          html.push(`<div><b>${m.name}</b><br><i>${m.description}</i></div>`);
        });
      });
      doc.innerHTML = html.join(' ');
    }
  </script>

</body>
</html>